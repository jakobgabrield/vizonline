{"ast":null,"code":"import _asyncToGenerator from\"/Users/jakobdeutsch/Documents/Coding_for_Fun/OnlineVizIDE/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jakobdeutsch/Documents/Coding_for_Fun/OnlineVizIDE/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/jakobdeutsch/Documents/Coding_for_Fun/OnlineVizIDE/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect,useRef}from'react';import'./App.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var codeAreaRef=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var options=[{label:\"AST\",value:\"-a\"},{label:\"SAST\",value:\"-s\"},{label:\"LLVM IR\",value:\"-l\"},{label:\"Tokens\",value:\"-ts\"}];var _useState5=useState(options[0].value),_useState6=_slicedToArray(_useState5,2),selectedOption=_useState6[0],setSelectedOption=_useState6[1];var run=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/run\",{content:code,language:\"viz\",args:selectedOption});case 2:res=_context.sent;setResult(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function run(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title\",children:\"Viz Online\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'30px',justifyContent:'center',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Result Format:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedOption,onChange:function onChange(e){return setSelectedOption(e.target.value);},children:options.map(function(o){return/*#__PURE__*/_jsx(\"option\",{value:o.value,children:o.label},o.value);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"textArea\",rows:\"20\",cols:\"75\",value:code,ref:codeAreaRef,onChange:function onChange(e){setCode(e.target.value);},onKeyDown:function onKeyDown(e){if(e.key=='Tab'){e.preventDefault();var _e$target=e.target,selectionStart=_e$target.selectionStart,selectionEnd=_e$target.selectionEnd;var newText=code.substring(0,selectionStart)+'    '+code.substring(selectionEnd,code.length);codeAreaRef.current.focus();codeAreaRef.current.value=newText;codeAreaRef.current.setSelectionRange(selectionStart+4,selectionEnd+4);setCode(newText);}}}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textArea\",rows:\"20\",cols:\"75\",value:result,disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"run-btn\",onClick:run,children:\"Run\"})]});};export default App;","map":{"version":3,"sources":["/Users/jakobdeutsch/Documents/Coding_for_Fun/OnlineVizIDE/client/src/App.js"],"names":["React","useState","useEffect","useRef","axios","App","codeAreaRef","code","setCode","result","setResult","options","label","value","selectedOption","setSelectedOption","run","post","content","language","args","res","data","display","height","justifyContent","alignItems","gap","e","target","map","o","key","preventDefault","selectionStart","selectionEnd","newText","substring","length","current","focus","setSelectionRange"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nconst App = () => {\n  \n  const codeAreaRef = useRef();\n  const [code, setCode] = useState(\"\");\n  const [result, setResult] = useState(\"\");\n  const options = [{label: \"AST\", value: \"-a\"}, {label: \"SAST\", value: \"-s\"}, {label: \"LLVM IR\", value: \"-l\"}, {label: \"Tokens\", value: \"-ts\"}];\n  const [selectedOption, setSelectedOption] = useState(options[0].value);\n  \n  const run = async () => {\n    // const res = await axios.post(\"http://localhost:5001/run\", {content: code, language: \"viz\", args: selectedOption});\n    const res = await axios.post(\"/run\", {content: code, language: \"viz\", args: selectedOption});\n    setResult(res.data);\n  }\n\n  return (\n    <div className=\"page\">\n      <h3 className=\"title\">Viz Online</h3>\n      <div style={{ display: 'flex', height: '30px', justifyContent: 'center', alignItems: 'center', gap: '10px'}}>\n        <h4>Result Format:</h4>\n        <select\n          value={selectedOption}\n          onChange={e => setSelectedOption(e.target.value)}>\n            {options.map(o => {\n              return <option key={o.value} value={o.value}>{o.label}</option>\n            })}\n        </select>\n      </div>\n        <div className=\"container\">\n          <textarea className=\"textArea\"\n            rows=\"20\"\n            cols=\"75\"\n            value={code}\n            ref={codeAreaRef}\n            onChange={(e) => {\n              setCode(e.target.value);\n            }}\n            onKeyDown={(e) => {\n              if (e.key == 'Tab') {\n                e.preventDefault();\n                const { selectionStart, selectionEnd } = e.target;\n                const newText = code.substring(0, selectionStart) + '    ' + code.substring(selectionEnd, code.length);\n                codeAreaRef.current.focus();\n                codeAreaRef.current.value = newText;\n                codeAreaRef.current.setSelectionRange(selectionStart + 4, selectionEnd + 4);\n                setCode(newText);\n              }\n            }}\n          />\n          <textarea className=\"textArea\"\n            rows=\"20\"\n            cols=\"75\"\n            value={result}\n            disabled={true}\n          />\n        </div>\n        <button className=\"run-btn\" onClick={run}>Run</button>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}